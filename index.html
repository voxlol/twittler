<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
    <div class="tweet-container">
      <h2>Tweets</h2>
      <button type="button">Get new Tweets</button>
      <ul class="tweet-list"></ul>

    </div>

    <script>
      $(document).ready(function(){
        // DOM element mapped to variables
        var $body = $('body');
        var $tweetList = $('.tweet-list');

        var tweets = streams.home.reverse();
        showTweets();

        function showTweets(displayAmount){
          // Clear the current display
          $tweetList.html('');

          // Setting the amount to only display the displayAmount
          var diff = tweets.length - displayAmount
          if(diff > 0){
            while(diff > 0){
              tweets.shift();
              diff--;
            }
          }

          // Displaying the tweet
          tweets.forEach(function (tweet) {
            var msg = $('<div class="tweet"></div>');
            msg.text('@' + tweet.user + ': ' + tweet.message);
            msg.prependTo($tweetList);
          });
        }

        // New Tweet Button event handler
        $('button').on("click", function(event){
          showTweets(25);
        });
      });
    </script>
  </body>
</html>
